<h1>6. Tabelite loomine</h1>

<h2>CREATE TABLE</h2>

<p>Tabelite loomiseks kasutatakse lauset CREATE TABLE.</p>

<pre class="code-block"><code><b>CREATE TABLE</b> kasutaja (
  id <b>SERIAL PRIMARY KEY</b>,
  kasutajanimi <b>TEXT</b>,
  registreerimise_kp <b>DATE</b>
);</code>
</pre>

<h2>Veergude andmetüübid</h2>

<p>Iga veeru nimele peab järgnema veerutüüp. PostgreSQL-is on neid mitmeid, siin on toodud väike ülevaade enamlevinud tüüpidest.</p>

<table style="width:100%">
  <tr>
    <th align="left">Andmetüüp</th>
    <th align="left">Kirjeldus</th>
  </tr>
  <tr>
    <td align="left">BOOLEAN</td>
    <td align="left">tõeväärtus (true/false)</td>
  </tr>
  <tr>
    <td align="left">INTEGER</td>
    <td align="left">4-baidine täisarv</td>
  </tr>
  <tr>
    <td align="left">SERIAL</td>
    <td align="left">automaatselt kasvav 4-baidine täisarv</td>
  </tr>
  <tr>
    <td align="left">TEXT</td>
    <td align="left">sõne</td>
  </tr>
  <tr>
    <td align="left">DATE</td>
    <td align="left">kuupäev (aasta, kuu, päev)</td>
  </tr>
  <tr>
    <td align="left">TIMESTAMP</td>
    <td align="left">kuupäev kellaajaga</td>
  </tr>
</table>
<br>

<h2>Veergude kitsendused</h2>
<table style="width:100%">
  <tr>
    <th align="left">Kitsendus</th>
    <th align="left">Kirjeldus</th>
  </tr>
  <tr>
    <td align="left">NOT NULL</td>
    <td align="left">veerg ei tohi sisaldada tühiväärtust (NULL)</td>
  </tr>
  <tr>
    <td align="left">PRIMARY KEY</td>
    <td align="left">primaarvõti - veerg ei saa olla NULL ning peab olema unikaalne</td>
  </tr>
  <tr>
    <td align="left">UNIQUE</td>
    <td align="left">veeru väärtus peab olema unikaalne</td>
  </tr>
  <tr>
    <td align="left">DEFAULT</td>
    <td align="left">veeru vaikeväärtus</td>
  </tr>
  <tr>
    <td align="left">CHECK</td>
    <td align="left">veeru väärtus peab vastama tingimusele</td>
  </tr>
</table>
<br>
Näide:
<pre class="code-block"><code><b>CREATE TABLE</b> film (
  id <b>SERIAL PRIMARY KEY</b>,
  ...
  pikkus <b>INTEGER CHECK (pikkus > 0)</b>,
  hinne <b>INTEGER DEFAULT</b> 7
);</code>
</pre>
